jQuery(function(b){var a=27;b(".form li").find('>input:text:not(".notmulti"),>input:password,>textarea').filter('input[value!=""],textarea:not(:empty)').prev("label").css("visibility","hidden").end().end().prev("label").addClass("overlap").css({top:"15px",left:"5px"}).next().focus(function(){var d=b(this).prev().stop().animate({opacity:0,left:"25px"},"fast",function(){d.css("visibility","hidden");});}).blur(function(){var e=b(this),d;if(b.trim(e.val())==""){d=e.prev().stop().css("visibility","visible").animate({opacity:1,left:"5px"},"fast");}}).end().parent().css("position","relative");b(".form th>input:checkbox").change(function(){var e=b(this),d=e.data("name");e.closest("table").find("input:checkbox").filter(function(){var f=b(this);return !f.prop("disabled")&&((f.attr("name")==d)||(f.data("name")==d));}).prop("checked",e.prop("checked")).end().end().trigger("update.checkbox",[d,this.checked]);});b.fn.xePagination=function(){this.not(".xe-pagination").addClass("xe-pagination").find("span.tgContent").css("whiteSpace","nowrap").end().find("a.tgAnchor").each(function(d){var e=b(this);e.after(b(e.attr("href")));}).end();return this;};b(".pagination").xePagination();b(".portlet .action").css({display:"none",position:"absolute"}).parent().mouseleave(function(){b(this).find(">.action").fadeOut(100);}).mouseenter(function(){b(this).find(">.action").fadeIn(100);}).focusin(function(){b(this).mouseenter();}).focusout(function(){var d=b(this),e;clearTimeout(d.data("timer"));e=setTimeout(function(){if(!d.find(":focus").length){d.mouseleave();}},10);d.data("timer",e);});b(window).resize(function(){if(b(document).width()<1300){b(".dashboard>.section>br").remove();b(".dashboard>.section>.portlet:odd").after('<br style="clear:both" />');}else{b(".dashboard>.section>br").remove();b(".dashboard>.section>.portlet:eq(2),.dashboard>.section>.portlet:eq(5)").after('<br style="clear:both" />');}});b(window).resize();b(".header>.siteTool>a.i").bind("before-open.tc",function(){b(this).addClass("active").next("div.tgContent").find(">.section:gt(0)").hide().end().find(">.btnArea>button").show();}).bind("after-close.tc",function(){b(this).removeClass("active");}).next("#siteMapList").find(">.section:last").after('<p class="btnArea"><button type="button">&rsaquo; more</button></p>').find("+p>button").click(function(){b(this).hide().parent().prevAll(".section").show();});b.fn.xeMask=function(){this.each(function(){var d=b(this),f=d.text();var e=/^([\w\-\.]+?)@(([\w-]+\.)+[a-z]{2,})$/ig;if(e.test(f)){d.html(f.replace(/(@.+)$/,'<span class="ellipsis">...</span><span class="cover">$1</span>')).find(">.ellipsis").css({position:"absolute",zIndex:1}).hover(function(){b(this).next(".cover").mouseover();},function(){b(this).next(".cover").mouseout();}).end().find(">.cover").css({zIndex:2,opacity:0}).hover(function(){b(this).css("opacity",1).prev("span").css("visibility","hidden");},function(){b(this).css("opacity",0).prev("span").css("visibility","visible");}).end();}});};b(".masked").xeMask();});jQuery(function(a){a.fn.xeMenu=function(){this.attr("role","navigation").find(">.nav-gnb>li").attr("role","menuitem").filter(":has(>ul)").attr("aria-haspopup","true").end().end().find(">.nav-gnb").mouseover(function(){a(this).parent(".gnb").addClass("active").end().find(">li>ul").css("height","auto").end();}).mouseleave(function(){a(this).parent(".gnb").removeClass("active").end().find(">li>ul").css("height","0").end();}).focusout(function(){var b=a(this);setTimeout(function(){if(!b.find(":focus").length){b.mouseleave();}},1);}).delegate("a",{focus:function(){a(this).mouseover();}});};a("div.gnb").xeMenu();a(".gnb>.mnv").change(function(){window.location.href=a(this).find("option:selected").val();});});jQuery(function(a){var b=27;a.fn.xeModalWindow=function(){this.not(".xe-modal-window").addClass("xe-modal-window").each(function(){a(a(this).attr("href")).addClass("x").hide();}).click(function(){var g=a(this),d,f,e;d=a(g.attr("href"));if(!d.parent("body").length){f=a('<button type="button" class="modalClose" title="Close this layer">X</button>');f.click(function(){d.data("anchor").trigger("close.mw");});d.prepend('<span class="bg"></span>').append('<!--[if IE 6]><iframe class="ie6"></iframe><![endif]-->').find(">.fg").prepend(f).append(f.clone(true)).end().appendTo("body");}d.data("anchor",g);if(d.data("state")=="showing"){g.trigger("close.mw");}else{g.trigger("open.mw");}return false;}).bind("open.mw",function(){var g=a(this),d,e,f;d=a.Event("before-open.mw");g.trigger(d);if(d.isDefaultPrevented()){return false;}e=a(g.attr("href"));f=g.data("duration")||"fast";e.data("state","showing");a("html,body").addClass("modalContainer");function h(){g.trigger("after-open.mw");}a(document).bind("keydown.mw",function(j){if(j.which==b){g.trigger("close.mw");return false;}});e.fadeIn(f,h).find(">.bg").height(a(document).height()).end().find("button.modalClose:first").focus();}).bind("close.mw",function(){var g=a(this),d,e,f;d=a.Event("before-close.mw");g.trigger(d);if(d.isDefaultPrevented()){return false;}e=a(g.attr("href"));f=g.data("duration")||"fast";e.data("state","hiding");a("html,body").removeClass("modalContainer");function h(){g.trigger("after-close.mw");}e.fadeOut(f,h);g.focus();});};a("a.modalAnchor").xeModalWindow();a("div.modal").addClass("x").hide();});jQuery(function(b){var a=false;var d=27;b.fn.xeContentToggler=function(){this.not(".xe-content-toggler").addClass("xe-content-toggler").each(function(){var e=b(this);$layer=b(e.attr("href"));$layer.hide().not(".xe-toggling-content").addClass("xe-toggling-content").mousedown(function(f){a=true;}).focusout(function(f){setTimeout(function(){if(!a&&!$layer.find(":focus").length&&$layer.data("state")=="showing"){e.trigger("close.tc");}a=false;},1);});}).click(function(){var f=b(this),e;e=b(f.attr("href"));e.data("anchor",f);if(e.data("state")=="showing"){f.trigger("close.tc");}else{f.trigger("open.tc");}return false;}).bind("open.tc",function(){var j=b(this),f,g,h;f=b(j.attr("href"));g=j.data("effect");h=j.data("duration")||"fast";f.data("state","showing");j.trigger("before-open.tc");a=false;b(document).unbind("mousedown.tc keydown.tc").bind("mousedown.tc keydown.tc",function(l){if(l){if(l.type=="keydown"&&l.which!=d){return true;}if(l.type=="mousedown"){var m=b(l.target);if(m.is("html,.tgAnchor,.tgContent")||f.has(m).length){return true;}}}j.trigger("close.tc");return false;});function k(){j.trigger("after-open.tc");}switch(g){case"slide":f.slideDown(h,k);break;case"slide-h":var e=f.css({"overflow-x":"",width:""}).width();f.show().css({"overflow-x":"hidden",width:"0px"}).animate({width:e},h,function(){f.css({"overflow-x":"",width:""});k();});break;case"fade":f.fadeIn(h,k);break;default:f.show();j.trigger("after-open.tc");}}).bind("close.tc",function(){var h=b(this),e,f,g;b(document).unbind("mousedown.tc keydown.tc");e=b(h.attr("href"));f=h.data("effect");g=h.data("duration")||"fast";e.data("state","hiding");h.trigger("before-close.tc");function j(){h.trigger("after-close.tc");}switch(f){case"slide":e.slideUp(g,j);break;case"slide-h":e.animate({width:0},g,function(){e.hide();j();});break;case"fade":e.fadeOut(g,j);break;default:e.hide();h.trigger("after-close.tc");}});return this;};b("a.tgAnchor").xeContentToggler();});jQuery(function(a){a.fn.xeModuleFinder=function(){this.not(".xe-module-finder").addClass("xe-module-finder").find("a.tgAnchor.findsite").bind("before-open.tc",function(){var d,b,e;d=a(this);b=a(d.attr("href")).find(">ul");e=d.prev("input:text").val();function f(j){var l,h=j.site_list,g,k;b.empty();d.closest(".modulefinder").find(".moduleList,.moduleIdList").attr("disabled","disabled");if(j.error||!a.isArray(h)){d.trigger("close.tc");return;}for(g=0,k=h.length;g<k;g++){l=a("<li />").appendTo(b);a('<button type="button" />').text(h[g].domain).data("site_srl",h[g].site_srl).appendTo(l);}}a.exec_json("admin.getSiteAllList",{domain:e},f);}).end().find(".tgContent.suggestion").delegate("button","click",function(){var d,b;d=a(this);b=d.closest(".modulefinder");function e(j){var g,h=j.module_list,f;if(j.error||!h){return;}g=b.find(".moduleList").data("module_list",h).removeAttr("disabled").empty();for(f in h){if(!h.hasOwnProperty(f)){continue;}a("<option />").attr("value",f).text(h[f].title).appendTo(g);}g.prop("selectedIndex",0).change().focus();if(!g.is(":visible")){g.slideDown(100,function(){b.find(".moduleIdList:not(:visible)").slideDown(100).trigger("show");}).trigger("show");}}b.find("a.tgAnchor.findsite").trigger("close.tc");a.exec_json("module.procModuleAdminGetList",{site_srl:d.data("site_srl")},e);}).end().find(".moduleList,.moduleIdList").hide().end().find(".moduleList").change(function(){var f,d,g,e;f=a(this);g=f.val();e=f.data("module_list");if(!e[g]){return;}e=e[g].list;d=f.closest(".modulefinder").find(".moduleIdList").removeAttr("disabled").empty();for(var b in e){if(!e.hasOwnProperty(b)){continue;}a("<option />").attr("value",e[b].module_srl).text(e[b].browser_title).appendTo(d);}d.prop("selectedIndex",0).change();});return this;};a(".modulefinder").xeModuleFinder();});jQuery(function(a){_xeModuleSearch=function(){var q=this;var h=a(this);var b=h.find(".moduleSearchWindow");var d=b.find(".siteList");var e=b.find(".moduleTypeList");var f=b.find(".moduleInstanceList");var p=d.find("UL");var n=e.find("UL");var m=f.find("SELECT");var o=b.find("INPUT.siteListSearchInput");var k;var l=280;function g(u,s){var t,r;u.find("li div").width("");u.css("height","");u.css("overflow-y","");if(u.height()>s){r=u.find("li div");r.width(r.width()-20+"px");u.css("height",s+"px");u.css("overflow-y","auto");}}function j(u){var r;var s=new RegExp(u,"ig");var t=k;p.empty();for(i=0,c=t.length;i<c;i++){r=t[i].domain;if(u){if(!r.match(s)){continue;}r=r.replace(s,function(v){return'<span class="highlight">'+v+"</span>";});}$li=a("<li />").appendTo(p);a("<a>").attr("href","#").html("<div>"+r+'</div><span class="icon-circle-arrow-right" style="display:inline-block;float:right;width:16px;height:16px;"></span>').data("site_srl",t[i].site_srl).appendTo($li);}g(p,l-o.parent("DIV").height());}o.keyup(function(){j(o.val());});if(typeof console=="undefined"){console={log:function(){}};}h.not(".xe-module-search").addClass("xe-module-search").find("a.tgAnchor.moduleSearch").bind("before-open.tc",function(){var r;r=a(this);function s(v){var x,u=v.site_list,t,w;if(v.error||!a.isArray(u)){r.trigger("close.tc");return;}k=u;j(o.val());o.focus();}p.empty();m.empty();e.hide();f.hide();a.exec_json("admin.getSiteAllList",{domain:""},s);}).end().find(".tgContent .siteListUL").delegate("a","click",function(s){var t,r;t=a(this);r=t.closest(".modulefinder");function u(y){var w=y.module_list,v;if(y.error||!w){return;}for(v in w){if(!w.hasOwnProperty(v)){continue;}$li=a("<li />").appendTo(n);a("<a>").attr("href","#").html("<div>"+w[v].title+'</div><span class="icon-circle-arrow-right" style="display:inline-block;float:right;width:16px;height:16px;"></span>').data("moduleInstanceList",w[v].list).appendTo($li);}b.find(".moduleTypeList").show();g(n,l);p.find("li").removeClass("on");t.parent("li").addClass("on");}n.empty();f.hide();a.exec_json("module.procModuleAdminGetList",{site_srl:t.data("site_srl")},u);s.preventDefault();}).end().find(".moduleTypeListUL").delegate("a","click",function(s){var v,t,w,u;v=a(this);u=v.data("moduleInstanceList");if(!u){return;}q.sSelectedModuleType=v.text();m.empty();for(var r in u){if(!u.hasOwnProperty(r)){continue;}$li=a("<option />").html(u[r].browser_title).appendTo(m).val(u[r].module_srl).data("mid",u[r].module_srl).data("module_srl",u[r].module_srl).data("layout_srl",u[r].layout_srl).data("browser_title",u[r].browser_title);}f.show();g(m,l);n.find("li").removeClass("on");v.parent("li").addClass("on");s.preventDefault();}).end().find(".moduleSearch_ok").click(function(r){var s=[];h.find(".moduleInstanceListSelect option:selected").each(function(){s.push({type:q.sSelectedModuleType,module_srl:a(this).data("module_srl"),layout_srl:a(this).data("layout_srl"),browser_title:a(this).data("browser_title")});});h.trigger("moduleSelect",[s]);a(".tgAnchor.moduleSearch").trigger("close.tc");r.preventDefault();});return this;};a.fn.xeModuleSearch=function(){a(this).each(_xeModuleSearch);};a(".moduleSearch").xeModuleSearch();});jQuery(function(e){var d=false,b=e('<tr class="placeholder"><td>&nbsp;</td></tr>');e.fn.xeSortableTable=function(){this.not(".xe-sortable-table").addClass("xe-sortable-table").delegate("button.dragBtn","mousedown.st",function(f){var n,m,r,t,s,g,j,l,h,k,p,o,q;if(f.which!=1){return;}n=e(this);m=n.closest("tr");r=n.closest("table");q=r.get(0).offsetParent;s=m.height();g=m.width();before_event=e.Event("before-drag.st");r.trigger(before_event);if(before_event.isDefaultPrevented()){return false;}l={x:f.pageX,y:f.pageY};j=a(m.get(0),q);$clone=m.attr("target",true).clone(true).appendTo(r);o=(t=r.find("thead th")).length;t.filter("[colspan]").attr("colspan",function(v,u){o+=u-1;});b.find("td").attr("colspan",o);h=[];r.find("tbody>tr:not([target],.sticky,:hidden)").each(function(){var u=e(this),v;v=a(this,q);h.push({top:v.top,bottom:v.top+u.height(),$item:u});});$clone.addClass("draggable").css({position:"absolute",opacity:0.6,width:g,height:s,left:j.left,top:j.top,zIndex:100});b.css({position:"absolute",opacity:0.6,width:g,height:"10px",left:j.left,top:j.top,backgroundColor:"#bbb",overflow:"hidden",zIndex:99}).appendTo(r);m.css("opacity",0.6);e(document).unbind("mousedown.st mouseup.st").bind("mousemove.st",function(x){var y,v,w,u,A,z;p=null;y={x:l.x-x.pageX,y:l.y-x.pageY};v=j.top-y.y;for(u=0,A=h.length;u<A;u++){z=h[u];if((u&&z.top>v)||((u<A-1)&&z.bottom<v)){continue;}p={element:z.$item};if(z.top>v-12){p.state="before";b.css("top",z.top-5);}else{p.state="after";b.css("top",z.bottom-5);}}$clone.css({top:v});}).bind("mouseup.st",function(u){var v;d=false;e(document).unbind("mousemove.st mouseup.st");m.removeAttr("target").css("opacity","");$clone.remove();b.remove();if(!p){return;}v=e(p.element);v[p.state](m);r.trigger("after-drag.st");});});return this;};e("table.sortable").xeSortableTable();function a(g,f){var j=0,h=0;while(g&&g!=f){j+=g.offsetTop;h+=g.offsetLeft;g=g.offsetParent;}return{top:j,left:h};}});jQuery(function(j){var o=null,a=null,b=0,m=null,k=false,p=false,r;var d=27,q=38,n=40,f=13;j(".multiLangEdit").delegate("input.vLang:text,textarea.vLang",{textchange:function(){var u=j(this),w=j.trim(u.val()),s,v;if(a){clearTimeout(a);a=null;}v=u.data("mle-container");s=r.find(">ul");if(!w||k){k=false;s.parent().hide();u.prev("input.vLang").val("");return;}u.data("mle-langkey").val("");u.prev("input.vLang").val(w);function t(){u.addClass("loading");if(s.parent().is(":visible")){s.parent().hide();}show_waiting_message=false;j.exec_json("module.getLangListByLangcodeForAutoComplete",{search_keyword:w},(function(y){return function(z){x(z,y);};})(b++));show_waiting_message=true;}function x(C,y){var A=C.results,B,z,D;u.removeClass("loading");if(C.error||!A||A.length===0||(b!=y+1)){return;}s.empty();for(z=0,D=A.length;z<D;z++){B=j('<button type="button" class="_btnLang" />').data("langkey",A[z].name).text(A[z].value);j("<li />").append(B).appendTo(s);}r.trigger("show");}a=setTimeout(t,100);},keydown:function(w){var x,t,s,v,u=w.which;x=j(this);t=r.find(">ul");if(!r.is(":visible")||j.inArray(u,[q,n,f,d])<0){return true;}if(u==d){r.trigger("hide");return false;}s=t.find("button.active");if(u==f){if(s.length===0){return true;}s.click();return false;}if(!s.length){t.find("li>button:first").addClass("active");return false;}if(u==q){v=s.parent().prev("li").find(">button");if(!v.length){v=t.find(">li:last>button");}}else{if(u==n){v=s.parent().next("li").find(">button");if(!v.length){v=t.find(">li:first>button");}}}s.removeClass("active");v.addClass("active");return false;},focus:function(){var t=j(this),s=j.trim(t.val()),u=t.closest(".multiLangEdit");t.after(r);if(!t.data("mle-container")){t.data("mle-container",u);}if(!t.data("mle-langkey")){t.data("mle-langkey",u.find("input.vLang:first"));}(function(){var v=j.trim(t.val());if(v!=s){s=v;t.trigger("textchange");}o=setTimeout(arguments.callee,50);})();},blur:function(){clearTimeout(o);o=null;j(this).closest(".multiLangEdit").focusout();},focusout:function(){var s=j(this);clearTimeout(m);m=setTimeout(function(){if(p){p=false;return;}if(!s.find(":focus").is(".vLang,button._btnLang")){r.trigger("hide");}},10);}}).delegate("a.tgAnchor.editUserLang",{"before-open.tc":function(){var x,v,t,y,z,A,w,u;x=j(this);v=j(x.attr("href")).insertBefore(x);t=x.closest(".multiLangEdit");y=t.find("input.vLang,textarea.vLang");z=y.eq(0).val();A=y.eq(1).val();h(v);v.trigger("multilang-reset").removeClass("showChild").find(".langList").empty().end();v.find(".langInput li."+xe.current_lang).find(">input:text,>textarea").val(A).prev("label").css("visibility","hidden");r.trigger("hide");if(/^\$user_lang->(.+)$/.test(z)){w="module.getModuleAdminLangListByName";u={lang_name:RegExp.$1};}else{w="module.getModuleAdminLangListByValue";u={value:A};}function s(E){var D=E.lang_list,F,C,H,B,G;if(E.error||!D){return;}D=e(D);v.data("multilang-list",D);G=v.find(".langList");j.each(D,function(J){var L=j("<li />").appendTo(G);var I=v.data("layer_index");var K=this[xe.current_lang];if(!K){for(lang_code in this){K=this[lang_code];break;}}j('<a href="#langInput_'+I+'" class="langItem" />').text(K).data("multilang-name",J).appendTo(L);});if(l(D)>1){v.addClass("showChild");}v.find(".langList>li>a:first").click();}show_waiting_message=false;j.exec_json(w,u,s);show_waiting_message=true;}}).delegate("button._btnLang",{click:function(){var s=j(this);k=true;r.trigger("hide");s.closest(".multiLangEdit").find("input.vLang,textarea.vLang").eq(0).val(s.data("langkey")).end().eq(1).val(s.text()).end();return false;},mousedown:function(){p=true;},focus:function(){j(this).mouseover();},mouseover:function(){j(this).closest("ul").find("button.active").removeClass("active");}});r=j('<div class="suggestion"><ul></ul></div>').bind("show",function(){j(this).show();}).bind("hide",function(){j(this).hide();});var g=0;function h(y){var t,E,F="",A=0,z,D,B,w=[];var C=0,v=1,x=0,s=1;if(y.data("init-multilang-editor")){return;}y.data("init-multilang-editor",true).bind("multilang-reset",function(){y.data("multilang-current-name","").find(".langInput li").find(">input:text,>textarea").val("").prev("label").css("visibility","visible");z=x;G();}).find("h2 a").click(function(){z=!z;G();return false;}).end().delegate("a.langItem","click",function(){var M=j(this),H,L,I,J,N;L=y.data("multilang-list");I=M.data("multilang-name");if(!L||!L[I]){return;}L=L[I];H=y.find(".langInput");y.trigger("multilang-reset").find(".langList li.active").removeClass("active").end().data("multilang-current-name",I);M.parent("li").addClass("active");for(var K in L){if(!L.hasOwnProperty(K)){continue;}H.find("li."+K).find(">input:text,>textarea").data("multilang-value",L[K]).val(L[K]).prev("label").css("visibility","hidden");}F=u();A=0;t.val(w[A]);z=s;G();return false;}).data("layer_index",g).find(".langInput").attr("id","langInput_"+g++);B=y.find("h2 strong").text();D=y.find("h2 a").text();E=y.find("input:text,textarea").change(function(){var H=(u()==F)?C:v;if(H!=A){t.val(w[A=H]);}});function u(){var H=[];E.each(function(){H.push(this.value);});return H.join("\n");}function G(){if(!y.data("multilang-current-name")){y.find("h2").find("strong").text(D).end().find("a").hide();}else{y.find("h2").find("strong").text(z==x?D:B).end().find("a").text(z==x?B:D).show().end();}}t=y.find("input[type=submit]").click(function(){var I=y.data("multilang-current-name");function H(){y.hide().closest(".multiLangEdit").find(".vLang").eq(0).val("$user_lang->"+I).end().eq(1).val(y.find(".langInput li."+xe.current_lang).find(">input:text,>textarea").val()).end();}function J(){var L={};if(I&&z==s){L.lang_name=I;}E.each(function(N,M){var O=j(this);L[O.parent("li").attr("class")]=O.val();});j.exec_json("module.procModuleAdminInsertLang",L,K);}function K(L){if(!L||L.error||!L.name){return;}I=L.name;H();}(u()==F)?H():J();return false;});w=t.val().split("|");t.val(w[C]);}function e(u){var s,w,v={},t;for(s=0,w=u.length;s<w;s++){t=u[s];if(!v[t.name]){v[t.name]={};}v[t.name][t.lang_code]=t.value;}return v;}function l(u){var t=0;for(var s in u){if(u.hasOwnProperty(s)){t++;}}return t;}});jQuery(function(a){a(".filebox").bind("before-open.mw",function(){var f,d,e;var b;f=a(this);b=f.attr("href");d=a(b).find(".filebox_list");function g(h){d.html(h.html);d.find(".lined .select").bind("click",function(l){var j=a("input.select_checkbox:checked");if(j.length==0){var k=a(this).parent().find("img.filebox_item").attr("src");if(!k){alert("None selected!");}else{f.trigger("filebox.selected",[k]);f.trigger("close.mw");}}else{f.trigger("filebox.selected",[j]);f.trigger("close.mw");}return false;});d.find(".pagination").find("a").filter(function(){if(a(this).hasClass("tgAnchor")){return false;}return true;}).bind("click",function(){var j=a(this).attr("page");a.exec_json("module.getFileBoxListHtml",{page:j},g);a(window).scrollTop(a(b).find(".modalClose").offset().top);return false;});a("#FileBoxGoTo").find("button").bind("click",function(){var j=a(this).prev("input").val();a.exec_json("module.getFileBoxListHtml",{page:j},g);a(window).scrollTop(a(b).find(".modalClose").offset().top);return false;});}a.exec_json("module.getFileBoxListHtml",{page:"1"},g);});});function showWaitingFogLayer(){var a=jQuery('<span class="bg"></span>');a.height(jQuery(window).height());jQuery(".wfsr").wrap('<div class="wfsr_fog" />').before(a);}function hideWaitingFogLayer(){jQuery(".wfsr").prev("span").remove();jQuery(".wfsr").unwrap();}function doInstallModule(a){var b=new Array();b.module_name=a;exec_xml("install","procInstallAdminInstall",b,completeInstallModule);showWaitingFogLayer();}function doUpdateModule(a){var b=new Array();b.module_name=a;exec_xml("install","procInstallAdminUpdate",b,completeInstallModule);showWaitingFogLayer();}function completeInstallModule(a){alert(a.message);location.reload();}jQuery(function(f){f("body").ajaxComplete(function(){hideWaitingFogLayer();});var e=f(".x .dsTg span.side>button.text");var b=f(".x .dsTg td.title");b.each(function(){var g=f(this);if(g.find("p.update").length==0){g.addClass("tg").find(">*:not(:first-child)").hide();}else{g.addClass("up");}});f(".x .dsTg .thumb").hide();var d=f(".x .dsTg td.tg>*:not(:first-child), .x .dsTg .thumb");e.click(function(){e.toggleClass("details");d.slideToggle(200);});var a=f(".x .content .h2, .x .content .h3").not(".portlet .h2, .modal .h2");a.each(function(){var g=f('<button type="button" class="sTog" title="Open/Close"><i class="icon-chevron-up"></i></button>');f(this).append(g);g.click(function(){var j=f(this);var h=j.parent().nextUntil(".h2, .h3").not(".langEdit, .tgContent, .modal");if(j.parent().next().is(":hidden")){j.find("i").attr("class","icon-chevron-up");h.slideDown(200);}else{j.find("i").attr("class","icon-chevron-down");h.slideUp(200);}});});});